CREATE TABLE Device (
	ID INTEGER PRIMARY KEY,
	shard INTEGER NOT NULL,
	IP TEXT NOT NULL
);

CREATE TABLE DataD(
	whenD LONG NOT NULL UNIQUE,
	whoMachine INTEGER NOT NULL UNIQUE,
	whoShard INTEGER NOT NULL UNIQUE,
	typeD TEXT NOT NULL,
	valueD REAL NOT NULL,
	net TEXT NOT NULL,
	CONSTRAINT PK_DataD PRIMARY KEY (whenD, whoMachine, whoShard),
	CONSTRAINT FK_DatD_Device FOREIGN KEY (whoMachine) REFERENCES Device(ID),
	CONSTRAINT FK_DatD_Device2 FOREIGN KEY (whoShard) REFERENCES Device(ID)
);